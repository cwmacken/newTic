"use strict";angular.module("newTicApp",["firebase","ngCookies"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]);var p1Name="Player 1",p2Name="PLayer 2",turn=1;angular.module("newTicApp").controller("MainCtrl",["$scope","angularFire",function(a,b){a.game=[],a.queue={};var c=new Firebase("https://ticcm.firebaseio.com/game");b(c,a,"game").then(function(){var c=new Firebase("https://ticcm.firebaseio.com/queue");b(c,a,"queue").then(function(){if(void 0==a.queue.gameId){console.log("I'm player 1"),a.player="p1";var b={ticTacToe:[["","",""],["","",""],["","",""]],turn:"p1",win:!1,turnCount:0};a.gameId=a.game.push(b)-1,a.queue.gameId=a.gameId,console.log("Player 1's game is: "+a.gameId)}else console.log("I'm player 2"),a.player="p2",a.gameId=a.queue.gameId,a.queue={},console.log("Player 2's game is: "+a.gameId)})}),a.choose=function(b){turn=1,choice=b,a.strGame()},a.strGame=function(){document.getElementById("game").style.display="inline",document.getElementById("startPage").style.display="none";var a=document.getElementById("p1").value;return document.getElementById("x").innerHTML=a.toUpperCase()+"'S",p1Name=a.toUpperCase(),p2Name},a.clickSqr=function(b,c){"X"!=a.game[a.gameId].ticTacToe[b][c]&&"O"!=a.game[a.gameId].ticTacToe[b][c]&&("p1"==a.player?1==a.game[a.gameId].turnCount%2?console.log("not yo turn"):(a.game[a.gameId].ticTacToe[b][c]="X",a.game[a.gameId].turnCount++,console.log(a.game[a.gameId].turnCount)):1==a.game[a.gameId].turnCount%2?(a.game[a.gameId].ticTacToe[b][c]="O",a.game[a.gameId].turnCount++,console.log(a.game[a.gameId].turnCount)):console.log("not yo turn"),turn++,a.check())},a.check=function(){var b=a.game[a.gameId].ticTacToe[0][0],c=a.game[a.gameId].ticTacToe[0][1],d=a.game[a.gameId].ticTacToe[0][2],e=a.game[a.gameId].ticTacToe[1][0],f=a.game[a.gameId].ticTacToe[1][1],g=a.game[a.gameId].ticTacToe[1][2],h=a.game[a.gameId].ticTacToe[2][0],i=a.game[a.gameId].ticTacToe[2][1],j=a.game[a.gameId].ticTacToe[2][2];"X"==b&&"X"==c&&"X"==d||"X"==e&&"X"==f&&"X"==g||"X"==h&&"X"==i&&"X"==j||"X"==b&&"X"==e&&"X"==h||"X"==c&&"X"==f&&"X"==i||"X"==d&&"X"==g&&"X"==j||"X"==b&&"X"==f&&"X"==j||"X"==d&&"X"==f&&"X"==h?(document.getElementsByClassName("alertText")[0].innerHTML=p1Name+" WINS!!!",document.getElementById("x").innerHTML="",document.getElementById("o").innerHTML="",document.getElementsByClassName("alertBox")[0].style.display="inline",a.game[a.gameId].win=!0,console.log(a.game[a.gameId].win)):"O"==b&&"O"==c&&"O"==d||"O"==e&&"O"==f&&"O"==g||"O"==h&&"O"==i&&"O"==j||"O"==b&&"O"==e&&"O"==h||"O"==c&&"O"==f&&"O"==i||"O"==d&&"O"==g&&"O"==j||"O"==b&&"O"==f&&"O"==j||"O"==d&&"O"==f&&"O"==h?(document.getElementsByClassName("alertText")[0].innerHTML=p2Name+" WINS!!!",document.getElementById("x").innerHTML="",document.getElementById("o").innerHTML="",document.getElementsByClassName("alertBox")[0].style.display="inline",a.game[a.gameId].win=!0,console.log(a.game[a.gameId].win)):9==a.game[a.gameId].turnCount&&(document.getElementById("x").innerHTML="",document.getElementById("o").innerHTML="",document.getElementsByClassName("alertBox")[0].style.display="inline",document.getElementsByClassName("alertText")[0].innerHTML="DRAW...")},a.home=function(){document.getElementsByClassName("alertBox")[0].style.display="none",document.getElementById("game").style.display="none",document.getElementById("startPage").style.display="inline",a.ticTacToe=[["","",""],["","",""],["","",""]]},a.theResetBtn=function(){document.getElementsByClassName("alertBox")[0].style.display="none",document.getElementById("o").innerHTML="TURN",document.getElementById("x").innerHTML=p1Name+"'S",a.ticTacToe=[["","",""],["","",""],["","",""]],turn=1,a.p1Pick="O",a.p2Pick="X"}}]);